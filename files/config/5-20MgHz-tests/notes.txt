A list of problems and notes that motivate the methods used in this directory.


Note that due to the cacheline being 64 / (2 * sizeof(float)) = 8 in this
system forces us to use ofdm_data_start and ofdm_data_num values that are 
multiples of 8 so that they fit in the cacheline. So for example, instead of
using a value of 300 for ofdm_data_num which is a calculated value for an SCS of
15 kHz and a CBW of 5 MHz, I would instead use a value of 304 because 304 is
the closest multiple of 8 above 300.

PROBLEM:
 The biggest issue discovered so far in creating working 5g slot formats one
 Agora is that that the maximum number of symbols per frame is hard capped at 
 no more than 70 total symbols (that are not pilot and base symbols). This 
 means that we can't structure our frames in Agora to follow the frame format
 specified in 5g NR which is 140 OFDM symbols per frame.

 3 Solutions:
 
 1. Find and change this issue in the code. Currently not making much progress
 on that. It gives an error: 
 terminate called after throwing an instance of 'std::out_of_range'
  what():  array::at: __n (which is 70) >= _Nm (which is 70). Which is hard
  to find.

  2. Let one of the 5g NR frames be equalt to 2 of our frames. As in the paper 
  found here https://www.yecl.org/publications/ding2020conext.pdf we could shoot
  for a 5 ms frame consisting of 70 symbols. This allows us to use all of the 
  specs associated with 5G NR, but it also means that for every 1 frame a 5G NR
  system would normally transmit, we will transmit 2 frames. My concern about
  this approach is that at the start of every frame we transmit a base station
  symbol and some number of pilot symbols (ie, BPPP....). Hence if we use 2 
  Agora frames in lieu of 1 5G NR frame we could run into the following issue.
  5g frame: BPPPUUU...UUU vs Agora frame: BPPPUUU...BPPPUUU...UUU. So having
  two BPPP segments could be detrimental.

  3. Sampleing rate, SR = SCS * fft_num. To make a 70 symbol frame take the same
  ammount of time as a 140 symbol frame, we have to halve the sampling rate.
  Hence we need to eaither halve the SCS or the fft_num. To preserve the SCS 
  value to remain in spec we are forced to halve the fft_num. In theory this
  works because in effect we let each Agora symbol map to 2 OFDM symbols, 
  however, my primary concern with this method is that the SR is half of what
  it should be which suggests that the data rate will be lower which might make
  this format not compatible with a 5g NR format. The files in the directories
  at the same level as this one implement solutions 2 and 3. Ideally solution 1
  ultimately ends up being the perminent solution.

PROBLEM:
 Frame sizes don't exactly line up because of missing CP.
